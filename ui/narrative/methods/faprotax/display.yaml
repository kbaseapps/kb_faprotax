#
# define display information
#
name: Map Taxa to Functions using FAPROTAX - v1.2.1
subtitle : FAPROTAX is a database that maps prokaryotic clades (e.g. genera or species) to established metabolic or other ecologically relevant functions, using the current literature on cultured strains
tooltip: FAPROTAX maps prokaryotic clades (e.g. genera or species) to metabolic or other ecologically relevant functions using literature on cultured strains

screenshots: [FAPROTAX_schematic.jpg,FAPROTAX_usage_overview.jpg,heatmap.jpg,bubbleplot.jpg]

icon: faprotax.png

#
# define a set of similar apps that might be useful to the user
#
suggestions:
    apps:
        related:
            [app1, app2]
        next:
            [app3, app4]

#
# Configure the display and description of parameters
#

parameters :
    input_upa :
        ui-name : |
            Input object
        short-hint : |
            Object of type <code>AmpliconSet</code> or <code>GenomeSet</code><br><code>AmpliconMatrix</code> objects must reference a row <AttributeMapping> that has taxonomy
            
    tax_field:
        ui-name: |
            Taxonomy field
        short-hint: |
            Select the field from input AmpliconMatrix's row AttributeMapping corresponding to the taxonomy for FAPROTAX to run on.<br>Default behavior (leaving blank) is to look for any field with substring 'taxonomy', with some prioritization

    output_amplicon_matrix_name:
        ui-name: |
            Output AmpliconMatrix name
        short-hint: |
            New name for input AmpliconMatrix when it is updated to reference row AttributeMapping updated with FAPROTAX functions. Default behavior (leaving blank) is to save over input AmpliconMatrix

description : |

    <p>
    This app is implemented primarily for the amplicon workflow. However, it does also take <code>GenomeSet</code> objects. In that case, just ignore the rest of the params.
    </p>

    <p>
    Note: currently, if input <code>AmpliconMatrix</code>'s row <code>AttributeMapping</code> has duplicate <code>attribute</code>/<code>source</code> pairs in its <code>attributes</code> field,
    they will generally not be able to be distinguished from one another and the first one may be computed with and any others may likely be ignored.
    Generating duplicate <code>attribute</code>/<code>source</code> pairs is currently avoided in amplicon workflow apps.
    </p>

    <a href="http://www.loucalab.com/archive/FAPROTAX/lib/php/index.php?section=Instructions">FAPROTAX usage</a>

publications:
    -
        pmid : 27634532
        display-text : |
             Louca S, Parfrey LW, Doebeli M. Decoupling function and taxonomy in the global ocean microbiome. Science. 2016;353: 1272-1277. doi:10.1126/science.aaf4507
        link: https://doi.org/10.1126/science.aaf4507

